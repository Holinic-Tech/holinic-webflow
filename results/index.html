<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Hair Recovery Report</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      background: #fafafa;
      color: #222;
    }
    header {
      background: #232946;
      color: white;
      padding: 1.5rem;
      text-align: center;
    }
    header h1 {
      margin: 0;
      font-size: 1.8rem;
    }
    main {
      max-width: 800px;
      margin: 2rem auto;
      padding: 1rem;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    section {
      margin-bottom: 2rem;
    }
    section h2 {
      color: #232946;
      font-size: 1.4rem;
      margin-bottom: 0.5rem;
    }
    .anchors p {
      margin: 0.2rem 0;
      font-size: 0.95rem;
    }
    ul {
      padding-left: 1.2rem;
    }
    .week {
      border-left: 4px solid #eebbc3;
      padding-left: 1rem;
      margin: 1rem 0;
    }
    .week h3 {
      margin-top: 0;
    }
    footer {
      text-align: center;
      font-size: 0.9rem;
      color: #555;
      margin: 2rem 0;
    }
  </style>
</head>
<body>
  <header>
    <h1>‚ú® Your Hair Recovery Report</h1>
    <p>Personalized insights from Hairqare</p>
  </header>

  <main>
    <section id="intro">
      <h2>Where You Are Right Now</h2>
      <p>This report helps you understand what‚Äôs driving your shedding, where you are in the recovery cycle, and what to focus on over the next 3 weeks. üå±</p>
    </section>

    <section id="timeline">
      <h2>Your Recovery Timeline</h2>
      <div id="timeline-html"><p>Loading analysis‚Ä¶</p></div>
      <div id="anchors" class="anchors"></div>
    </section>

    <section id="protocol">
      <h2>Your 21-Day Reset Plan</h2>

      <div class="week" id="week1">
        <h3>Week 1: Stabilize Your System üå±</h3>
        <ul>
          <li>Set a fixed wake-up time (7 days/week)</li>
          <li>Reduce late caffeine (none after 12pm)</li>
          <li>Start nightly 10-min wind-down ritual</li>
        </ul>
        <p><em>This week is about calming your system fast ‚Äî every night of better sleep builds momentum.</em></p>
      </div>

      <div class="week" id="week2">
        <h3>Week 2: Rebuild Your Foundations üí™</h3>
        <ul>
          <li>Add 30g protein at breakfast daily</li>
          <li>Practice 2 stress-breaks per day (breathing/journaling)</li>
          <li>Swap alcohol nights for a relaxing tea</li>
        </ul>
        <p><em>This week builds stronger fuel for your body and lowers the stress load driving your shedding.</em></p>
      </div>

      <div class="week" id="week3">
        <h3>Week 3: Support Regrowth üå∏</h3>
        <ul>
          <li>Gentle scalp massage 3x per week</li>
          <li>Add leafy greens / iron-rich foods daily</li>
          <li>Consistent bedtime routine with screens off 1h before bed</li>
        </ul>
        <p><em>This week lays the foundation for new baby hairs to come through ‚Äî consistency pays off.</em></p>
      </div>
    </section>

    <section id="closing">
      <h2>You‚Äôve Got This ‚ù§Ô∏è</h2>
      <p>Hair recovery takes patience, but every small step adds up. Thousands of women have been exactly where you are ‚Äî and they‚Äôve come through with healthier, stronger hair. Stay consistent, and your future self will thank you. ‚ú®</p>
    </section>
  </main>

  <footer>
    ¬© 2025 Hairqare by Holiniq
  </footer>

  <script>
    async function loadResult() {
      try {
        const res = await fetch('./data/result.json'); // Replace with dynamic path if needed
        const data = await res.json();
        const result = data[0]; // GPT returns array

        // Insert HTML analysis
        document.getElementById('timeline-html').innerHTML = result.timeline_html;

        // Structured anchors
        const a = result.anchors;
        document.getElementById('anchors').innerHTML = `
          <p><strong>Worst month:</strong> ${a.worst_month || '‚Äî'}</p>
          <p><strong>Main trigger:</strong> ${a.main_trigger || '‚Äî'}</p>
          <p><strong>Onset window:</strong> ${a.onset_window || '‚Äî'}</p>
          <p><strong>Stabilization window:</strong> ${a.stabilization_window || '‚Äî'}</p>
          <p><strong>Regrowth start:</strong> ${a.regrowth_start || '‚Äî'}</p>
        `;
      } catch (e) {
        console.error("Error loading result:", e);
      }
    }
    loadResult();
  </script>
</body>
</html>